# rdb

[![CRAN Status](https://r-pkg.org/badges/version/rdb)](https://cran.r-project.org/package=rdb){.pkgdown-release}

rdb provides access to the Referendum Database (RDB) from R. This database aims to record all direct democratic votes worldwide and is operated by the [Centre for Democracy Studies Aarau (ZDA)](https://www.zdaarau.ch/en/) at the University of Zurich, Switzerland.

## RDB data model

<a href='reference/figures/rdb_dm.svg' title='RDB data model diagram'> <svg width="776px" height="100%"
 viewBox="0.00 0.00 1250.00 1976.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1972)">
<title>
%0
</title>
<g id="a_graph0"><a xlink:title="Data Model"> <polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1972 1246,-1972 1246,4 -4,4"/> </a> </g> <!-- actors --> <g id="actors" class="node">
<title>
actors
</title>
<polygon fill="#cf3dff" stroke="transparent" points="620.5,-915.5 620.5,-935.5 772.5,-935.5 772.5,-915.5 620.5,-915.5"/> <text text-anchor="start" x="679.7875" y="-920.9" font-family="Times,serif" font-size="14.00" fill="#ffffff">actors</text> <polygon fill="#eebbff" stroke="transparent" points="620.5,-902.5 620.5,-915.5 772.5,-915.5 772.5,-902.5 620.5,-902.5"/> <text text-anchor="start" x="622.4112" y="-906.3" font-family="Times,serif" font-size="8.00" fill="#000000">entities acting in connection with referendums</text> <polygon fill="#f5d8ff" stroke="transparent" points="620.5,-882.5 620.5,-902.5 772.5,-902.5 772.5,-882.5 620.5,-882.5"/> <text text-anchor="start" x="622.5" y="-888.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">label</text> <polygon fill="#f5d8ff" stroke="transparent" points="620.5,-862.5 620.5,-882.5 772.5,-882.5 772.5,-862.5 620.5,-862.5"/> <text text-anchor="start" x="622.5" y="-867.9" font-family="Times,serif" font-size="14.00" fill="#444444">description</text> <polygon fill="#f5d8ff" stroke="transparent" points="620.5,-842.5 620.5,-862.5 772.5,-862.5 772.5,-842.5 620.5,-842.5"/> <text text-anchor="start" x="622.5" y="-847.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#f5d8ff" stroke="transparent" points="620.5,-822.5 620.5,-842.5 772.5,-842.5 772.5,-822.5 620.5,-822.5"/> <text text-anchor="start" x="622.5" y="-827.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#f5d8ff" stroke="transparent" points="620.5,-802.5 620.5,-822.5 772.5,-822.5 772.5,-802.5 620.5,-802.5"/> <text text-anchor="start" x="622.5" y="-807.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#f5d8ff" stroke="transparent" points="620.5,-782.5 620.5,-802.5 772.5,-802.5 772.5,-782.5 620.5,-782.5"/> <text text-anchor="start" x="622.5" y="-787.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#8a28aa" stroke-opacity="0.666667" points="619.5,-782 619.5,-937 773.5,-937 773.5,-782 619.5,-782"/> </g> <!-- administrative_units --> <g id="administrative_units" class="node">
<title>
administrative_units
</title>
<polygon fill="#ffcf3d" stroke="transparent" points="1041,-1288.5 1041,-1308.5 1241,-1308.5 1241,-1288.5 1041,-1288.5"/> <text text-anchor="start" x="1083.8408" y="-1293.9" font-family="Times,serif" font-size="14.00" fill="#000000">administrative_units</text> <polygon fill="#ffeebb" stroke="transparent" points="1041,-1275.5 1041,-1288.5 1241,-1288.5 1241,-1275.5 1041,-1275.5"/> <text text-anchor="start" x="1074.8996" y="-1279.3" font-family="Times,serif" font-size="8.00" fill="#000000">administrative units on all political levels</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1255.5 1041,-1275.5 1241,-1275.5 1241,-1255.5 1041,-1255.5"/> <text text-anchor="start" x="1043" y="-1261.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">id</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1235.5 1041,-1255.5 1241,-1255.5 1241,-1235.5 1041,-1235.5"/> <text text-anchor="start" x="1043" y="-1240.9" font-family="Times,serif" font-size="14.00" fill="#444444">name</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1215.5 1041,-1235.5 1241,-1235.5 1241,-1215.5 1041,-1215.5"/> <text text-anchor="start" x="1043" y="-1220.9" font-family="Times,serif" font-size="14.00" fill="#444444">level</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1195.5 1041,-1215.5 1241,-1215.5 1241,-1195.5 1041,-1195.5"/> <text text-anchor="start" x="1043" y="-1200.9" font-family="Times,serif" font-size="14.00" fill="#444444">type</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1175.5 1041,-1195.5 1241,-1195.5 1241,-1175.5 1041,-1175.5"/> <text text-anchor="start" x="1042.6584" y="-1180.9" font-family="Times,serif" font-size="14.00" fill="#444444">guarantees_referendum_id_official</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1155.5 1041,-1175.5 1241,-1175.5 1241,-1155.5 1041,-1155.5"/> <text text-anchor="start" x="1043" y="-1160.9" font-family="Times,serif" font-size="14.00" fill="#444444">parent_id</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1135.5 1041,-1155.5 1241,-1155.5 1241,-1135.5 1041,-1135.5"/> <text text-anchor="start" x="1043" y="-1140.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1115.5 1041,-1135.5 1241,-1135.5 1241,-1115.5 1041,-1115.5"/> <text text-anchor="start" x="1043" y="-1120.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1095.5 1041,-1115.5 1241,-1115.5 1241,-1095.5 1041,-1095.5"/> <text text-anchor="start" x="1043" y="-1100.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#fff5d8" stroke="transparent" points="1041,-1075.5 1041,-1095.5 1241,-1095.5 1241,-1075.5 1041,-1075.5"/> <text text-anchor="start" x="1043" y="-1080.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#aa8a28" stroke-opacity="0.666667" points="1040,-1075 1040,-1310 1242,-1310 1242,-1075 1040,-1075"/> </g> <!-- administrative_units&#45;&gt;administrative_units --> <g id="administrative_units_1" class="edge">
<title>
administrative_units:parent_id-\>administrative_units:id
</title>
<path fill="none" stroke="#555555" d="M1040.8693,-1161.9411C983.4134,-1165.1903 930,-1179.1436 930,-1215.5 930,-1249.7262 977.3374,-1264.0976 1030.8212,-1268.3751"/> <polygon fill="#555555" stroke="#555555" points="1030.6547,-1271.8718 1040.8693,-1269.0589 1031.13,-1264.8879 1030.6547,-1271.8718"/> </g> <!-- languages --> <g id="languages" class="node">
<title>
languages
</title>
<polygon fill="#ffcf3d" stroke="transparent" points="838.5,-1497.5 838.5,-1517.5 1003.5,-1517.5 1003.5,-1497.5 838.5,-1497.5"/> <text text-anchor="start" x="893.0105" y="-1502.9" font-family="Times,serif" font-size="14.00" fill="#000000">languages</text> <polygon fill="#ffeebb" stroke="transparent" points="838.5,-1484.5 838.5,-1497.5 1003.5,-1497.5 1003.5,-1484.5 838.5,-1484.5"/> <text text-anchor="start" x="840.3576" y="-1488.3" font-family="Times,serif" font-size="8.00" fill="#000000">languages (conforming to the ISO 639-1 standard)</text> <polygon fill="#fff5d8" stroke="transparent" points="838.5,-1464.5 838.5,-1484.5 1003.5,-1484.5 1003.5,-1464.5 838.5,-1464.5"/> <text text-anchor="start" x="840.5" y="-1470.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">code</text> <polygon fill="#fff5d8" stroke="transparent" points="838.5,-1444.5 838.5,-1464.5 1003.5,-1464.5 1003.5,-1444.5 838.5,-1444.5"/> <text text-anchor="start" x="840.5" y="-1449.9" font-family="Times,serif" font-size="14.00" fill="#444444">name</text> <polygon fill="#fff5d8" stroke="transparent" points="838.5,-1424.5 838.5,-1444.5 1003.5,-1444.5 1003.5,-1424.5 838.5,-1424.5"/> <text text-anchor="start" x="840.5" y="-1429.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#fff5d8" stroke="transparent" points="838.5,-1404.5 838.5,-1424.5 1003.5,-1424.5 1003.5,-1404.5 838.5,-1404.5"/> <text text-anchor="start" x="840.5" y="-1409.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#fff5d8" stroke="transparent" points="838.5,-1384.5 838.5,-1404.5 1003.5,-1404.5 1003.5,-1384.5 838.5,-1384.5"/> <text text-anchor="start" x="840.5" y="-1389.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#fff5d8" stroke="transparent" points="838.5,-1364.5 838.5,-1384.5 1003.5,-1384.5 1003.5,-1364.5 838.5,-1364.5"/> <text text-anchor="start" x="840.5" y="-1369.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#aa8a28" stroke-opacity="0.666667" points="837,-1364 837,-1519 1004,-1519 1004,-1364 837,-1364"/> </g> <!-- legal_instruments --> <g id="legal_instruments" class="node">
<title>
legal_instruments
</title>
<polygon fill="#c2f0c2" stroke="transparent" points="593.5,-1946.5 593.5,-1966.5 800.5,-1966.5 800.5,-1946.5 593.5,-1946.5"/> <text text-anchor="start" x="647.2314" y="-1951.9" font-family="Times,serif" font-size="14.00" fill="#000000">legal_instruments</text> <polygon fill="#e9f9e9" stroke="transparent" points="593.5,-1933.5 593.5,-1946.5 800.5,-1946.5 800.5,-1933.5 593.5,-1933.5"/> <text text-anchor="start" x="606.1412" y="-1937.3" font-family="Times,serif" font-size="8.00" fill="#000000">legal instruments covering the regulation of referendums</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1913.5 593.5,-1933.5 800.5,-1933.5 800.5,-1913.5 593.5,-1913.5"/> <text text-anchor="start" x="595.5" y="-1919.9" font-family="Times,serif" font-style="italic" font-size="14.00" fill="#444444">display</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1893.5 593.5,-1913.5 800.5,-1913.5 800.5,-1893.5 593.5,-1893.5"/> <text text-anchor="start" x="595.5" y="-1898.9" font-family="Times,serif" font-size="14.00" fill="#444444">administrative_unit_id</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1873.5 593.5,-1893.5 800.5,-1893.5 800.5,-1873.5 593.5,-1873.5"/> <text text-anchor="start" x="595.5" y="-1878.9" font-family="Times,serif" font-size="14.00" fill="#444444">hierarchy_level</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1853.5 593.5,-1873.5 800.5,-1873.5 800.5,-1853.5 593.5,-1853.5"/> <text text-anchor="start" x="595.5" y="-1858.9" font-family="Times,serif" font-size="14.00" fill="#444444">language_code</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1833.5 593.5,-1853.5 800.5,-1853.5 800.5,-1833.5 593.5,-1833.5"/> <text text-anchor="start" x="595.5" y="-1838.9" font-family="Times,serif" font-size="14.00" fill="#444444">title</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1813.5 593.5,-1833.5 800.5,-1833.5 800.5,-1813.5 593.5,-1813.5"/> <text text-anchor="start" x="595.5" y="-1818.9" font-family="Times,serif" font-size="14.00" fill="#444444">abbreviation</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1793.5 593.5,-1813.5 800.5,-1813.5 800.5,-1793.5 593.5,-1793.5"/> <text text-anchor="start" x="595.5" y="-1798.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1773.5 593.5,-1793.5 800.5,-1793.5 800.5,-1773.5 593.5,-1773.5"/> <text text-anchor="start" x="595.5" y="-1778.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1753.5 593.5,-1773.5 800.5,-1773.5 800.5,-1753.5 593.5,-1753.5"/> <text text-anchor="start" x="595.5" y="-1758.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1733.5 593.5,-1753.5 800.5,-1753.5 800.5,-1733.5 593.5,-1733.5"/> <text text-anchor="start" x="595.5" y="-1738.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#f2fcf2" stroke="transparent" points="593.5,-1713.5 593.5,-1733.5 800.5,-1733.5 800.5,-1713.5 593.5,-1713.5"/> <text text-anchor="start" x="595.1297" y="-1719.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">administrative_unit_id, abbreviation</text> <polygon fill="none" stroke="#81a081" stroke-opacity="0.666667" points="592,-1713 592,-1968 801,-1968 801,-1713 592,-1713"/> </g> <!-- legal_instruments&#45;&gt;administrative_units --> <g id="legal_instruments_1" class="edge">
<title>
legal_instruments:administrative_unit_id-\>administrative_units:id
</title>
<path fill="none" stroke="#555555" d="M800.5,-1903.5C928.88,-1903.5 950.0758,-1815.0058 1004,-1698.5 1022.8956,-1657.6752 996.7873,-1317.0943 1032.1749,-1270.7213"/> <polygon fill="#555555" stroke="#555555" points="1034.1757,-1273.6043 1041,-1265.5 1030.6113,-1267.5797 1034.1757,-1273.6043"/> </g> <!-- legal_instruments&#45;&gt;languages --> <g id="legal_instruments_2" class="edge">
<title>
legal_instruments:language_code-\>languages:code
</title>
<path fill="none" stroke="#555555" d="M800.5,-1863.5C883.6238,-1863.5 762.8959,-1507.2115 828.5012,-1476.5929"/> <polygon fill="#555555" stroke="#555555" points="829.4292,-1479.9746 838.5,-1474.5 827.995,-1473.1231 829.4292,-1479.9746"/> </g> <!-- legal_norms --> <g id="legal_norms" class="node">
<title>
legal_norms
</title>
<polygon fill="#64d864" stroke="transparent" points="328,-1898.5 328,-1918.5 473,-1918.5 473,-1898.5 328,-1898.5"/> <text text-anchor="start" x="365.8969" y="-1903.9" font-family="Times,serif" font-size="14.00" fill="#000000">legal_norms</text> <polygon fill="#c8f1c8" stroke="transparent" points="328,-1885.5 328,-1898.5 473,-1898.5 473,-1885.5 328,-1885.5"/> <text text-anchor="start" x="345.9636" y="-1889.3" font-family="Times,serif" font-size="8.00" fill="#000000">legal norms enabling referendums</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1865.5 328,-1885.5 473,-1885.5 473,-1865.5 328,-1865.5"/> <text text-anchor="start" x="330" y="-1871.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">id</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1845.5 328,-1865.5 473,-1865.5 473,-1845.5 328,-1845.5"/> <text text-anchor="start" x="330" y="-1850.9" font-family="Times,serif" font-size="14.00" fill="#444444">display</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1825.5 328,-1845.5 473,-1845.5 473,-1825.5 328,-1825.5"/> <text text-anchor="start" x="329.7335" y="-1830.9" font-family="Times,serif" font-size="14.00" fill="#444444">legal_instrument_display</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1805.5 328,-1825.5 473,-1825.5 473,-1805.5 328,-1805.5"/> <text text-anchor="start" x="330" y="-1810.9" font-family="Times,serif" font-size="14.00" fill="#444444">clause</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1785.5 328,-1805.5 473,-1805.5 473,-1785.5 328,-1785.5"/> <text text-anchor="start" x="330" y="-1790.9" font-family="Times,serif" font-size="14.00" fill="#444444">text</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1765.5 328,-1785.5 473,-1785.5 473,-1765.5 328,-1765.5"/> <text text-anchor="start" x="330" y="-1770.9" font-family="Times,serif" font-size="14.00" fill="#444444">url</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1745.5 328,-1765.5 473,-1765.5 473,-1745.5 328,-1745.5"/> <text text-anchor="start" x="330" y="-1750.9" font-family="Times,serif" font-size="14.00" fill="#444444">valid_from</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1725.5 328,-1745.5 473,-1745.5 473,-1725.5 328,-1725.5"/> <text text-anchor="start" x="330" y="-1730.9" font-family="Times,serif" font-size="14.00" fill="#444444">valid_to</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1705.5 328,-1725.5 473,-1725.5 473,-1705.5 328,-1705.5"/> <text text-anchor="start" x="330" y="-1710.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1685.5 328,-1705.5 473,-1705.5 473,-1685.5 328,-1685.5"/> <text text-anchor="start" x="330" y="-1690.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1665.5 328,-1685.5 473,-1685.5 473,-1665.5 328,-1665.5"/> <text text-anchor="start" x="330" y="-1670.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#e0f7e0" stroke="transparent" points="328,-1645.5 328,-1665.5 473,-1665.5 473,-1645.5 328,-1645.5"/> <text text-anchor="start" x="330" y="-1650.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#429042" stroke-opacity="0.666667" points="326.5,-1645 326.5,-1920 473.5,-1920 473.5,-1645 326.5,-1645"/> </g> <!-- legal_norms&#45;&gt;legal_instruments --> <g id="legal_norms_1" class="edge">
<title>
legal_norms:legal_instrument_display-\>legal_instruments:display
</title>
<path fill="none" stroke="#555555" stroke-dasharray="5,2" d="M473,-1835.5C535.6898,-1835.5 528.2759,-1914.1382 583.2982,-1922.7392"/> <polygon fill="#555555" stroke="#555555" points="583.2674,-1926.2466 593.5,-1923.5 583.788,-1919.266 583.2674,-1926.2466"/> </g> <!-- options --> <g id="options" class="node">
<title>
options
</title>
<polygon fill="#cf3dff" stroke="transparent" points="651.5,-666.5 651.5,-686.5 742.5,-686.5 742.5,-666.5 651.5,-666.5"/> <text text-anchor="start" x="676.3871" y="-671.9" font-family="Times,serif" font-size="14.00" fill="#ffffff">options</text> <polygon fill="#eebbff" stroke="transparent" points="651.5,-653.5 651.5,-666.5 742.5,-666.5 742.5,-653.5 651.5,-653.5"/> <text text-anchor="start" x="653.462" y="-657.3" font-family="Times,serif" font-size="8.00" fill="#000000">referendum answer options</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-633.5 651.5,-653.5 742.5,-653.5 742.5,-633.5 651.5,-633.5"/> <text text-anchor="start" x="653.5" y="-639.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">display</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-613.5 651.5,-633.5 742.5,-633.5 742.5,-613.5 651.5,-613.5"/> <text text-anchor="start" x="653.5" y="-618.9" font-family="Times,serif" font-size="14.00" fill="#444444">label</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-593.5 651.5,-613.5 742.5,-613.5 742.5,-593.5 651.5,-593.5"/> <text text-anchor="start" x="653.5" y="-598.9" font-family="Times,serif" font-size="14.00" fill="#444444">description</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-573.5 651.5,-593.5 742.5,-593.5 742.5,-573.5 651.5,-573.5"/> <text text-anchor="start" x="653.5" y="-578.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-553.5 651.5,-573.5 742.5,-573.5 742.5,-553.5 651.5,-553.5"/> <text text-anchor="start" x="653.5" y="-558.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-533.5 651.5,-553.5 742.5,-553.5 742.5,-533.5 651.5,-533.5"/> <text text-anchor="start" x="653.5" y="-538.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-513.5 651.5,-533.5 742.5,-533.5 742.5,-513.5 651.5,-513.5"/> <text text-anchor="start" x="653.5" y="-518.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#f5d8ff" stroke="transparent" points="651.5,-493.5 651.5,-513.5 742.5,-513.5 742.5,-493.5 651.5,-493.5"/> <text text-anchor="start" x="653.5" y="-498.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#8a28aa" stroke-opacity="0.666667" points="650,-493 650,-688 743,-688 743,-493 650,-493"/> </g> <!-- referendums --> <g id="referendums" class="node">
<title>
referendums
</title>
<polygon fill="#3f4eff" stroke="transparent" points="855.5,-780.5 855.5,-800.5 985.5,-800.5 985.5,-780.5 855.5,-780.5"/> <text text-anchor="start" x="885.5196" y="-785.9" font-family="Times,serif" font-size="14.00" fill="#ffffff">referendums</text> <polygon fill="#bbc1ff" stroke="transparent" points="855.5,-767.5 855.5,-780.5 985.5,-780.5 985.5,-767.5 855.5,-767.5"/> <text text-anchor="start" x="903.7268" y="-771.3" font-family="Times,serif" font-size="8.00" fill="#000000">main table</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-747.5 855.5,-767.5 985.5,-767.5 985.5,-747.5 855.5,-747.5"/> <text text-anchor="start" x="857.5" y="-753.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">id</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-727.5 855.5,-747.5 985.5,-747.5 985.5,-727.5 855.5,-727.5"/> <text text-anchor="start" x="857.5" y="-732.9" font-family="Times,serif" font-size="14.00" fill="#444444">display</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-707.5 855.5,-727.5 985.5,-727.5 985.5,-707.5 855.5,-707.5"/> <text text-anchor="start" x="857.5" y="-712.9" font-family="Times,serif" font-size="14.00" fill="#444444">id_old</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-687.5 855.5,-707.5 985.5,-707.5 985.5,-687.5 855.5,-687.5"/> <text text-anchor="start" x="857.5" y="-692.9" font-family="Times,serif" font-size="14.00" fill="#444444">id_official</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-667.5 855.5,-687.5 985.5,-687.5 985.5,-667.5 855.5,-667.5"/> <text text-anchor="start" x="857.5" y="-672.9" font-family="Times,serif" font-size="14.00" fill="#444444">id_sudd</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-647.5 855.5,-667.5 985.5,-667.5 985.5,-647.5 855.5,-647.5"/> <text text-anchor="start" x="857.5" y="-652.9" font-family="Times,serif" font-size="14.00" fill="#444444">is_draft</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-627.5 855.5,-647.5 985.5,-647.5 985.5,-627.5 855.5,-627.5"/> <text text-anchor="start" x="857.5" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#444444">date</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-607.5 855.5,-627.5 985.5,-627.5 985.5,-607.5 855.5,-607.5"/> <text text-anchor="start" x="857.1178" y="-612.9" font-family="Times,serif" font-size="14.00" fill="#444444">administrative_unit_id</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-587.5 855.5,-607.5 985.5,-607.5 985.5,-587.5 855.5,-587.5"/> <text text-anchor="start" x="857.5" y="-592.9" font-family="Times,serif" font-size="14.00" fill="#444444">cluster_id</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-567.5 855.5,-587.5 985.5,-587.5 985.5,-567.5 855.5,-567.5"/> <text text-anchor="start" x="857.5" y="-572.9" font-family="Times,serif" font-size="14.00" fill="#444444">attachments</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-547.5 855.5,-567.5 985.5,-567.5 985.5,-547.5 855.5,-547.5"/> <text text-anchor="start" x="857.5" y="-552.9" font-family="Times,serif" font-size="14.00" fill="#444444">source</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-527.5 855.5,-547.5 985.5,-547.5 985.5,-527.5 855.5,-527.5"/> <text text-anchor="start" x="857.5" y="-532.9" font-family="Times,serif" font-size="14.00" fill="#444444">remarks</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-507.5 855.5,-527.5 985.5,-527.5 985.5,-507.5 855.5,-507.5"/> <text text-anchor="start" x="857.5" y="-512.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-487.5 855.5,-507.5 985.5,-507.5 985.5,-487.5 855.5,-487.5"/> <text text-anchor="start" x="857.5" y="-492.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-467.5 855.5,-487.5 985.5,-487.5 985.5,-467.5 855.5,-467.5"/> <text text-anchor="start" x="857.5" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#d8dbff" stroke="transparent" points="855.5,-447.5 855.5,-467.5 985.5,-467.5 985.5,-447.5 855.5,-447.5"/> <text text-anchor="start" x="857.5" y="-452.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#2a34aa" stroke-opacity="0.666667" points="854.5,-447 854.5,-802 986.5,-802 986.5,-447 854.5,-447"/> </g> <!-- options&#45;&gt;referendums --> <g id="options_1" class="edge">
<title>
options:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M742.5,-583.5C831.1082,-583.5 768.6199,-744.1718 845.4237,-756.7242"/> <polygon fill="#555555" stroke="#555555" points="845.2608,-760.222 855.5,-757.5 845.7982,-753.2426 845.2608,-760.222"/> </g> <!-- referendum_clusters --> <g id="referendum_clusters" class="node">
<title>
referendum_clusters
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="1082,-620.5 1082,-640.5 1200,-640.5 1200,-620.5 1082,-620.5"/> <text text-anchor="start" x="1083.8618" y="-625.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_clusters</text> <polygon fill="#e4e6ff" stroke="transparent" points="1082,-607.5 1082,-620.5 1200,-620.5 1200,-607.5 1082,-607.5"/> <text text-anchor="start" x="1107.794" y="-611.3" font-family="Times,serif" font-size="8.00" fill="#000000">referendums clusters</text> <polygon fill="#eff1ff" stroke="transparent" points="1082,-587.5 1082,-607.5 1200,-607.5 1200,-587.5 1082,-587.5"/> <text text-anchor="start" x="1084" y="-593.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">id</text> <polygon fill="#eff1ff" stroke="transparent" points="1082,-567.5 1082,-587.5 1200,-587.5 1200,-567.5 1082,-567.5"/> <text text-anchor="start" x="1084" y="-572.9" font-family="Times,serif" font-size="14.00" fill="#444444">remarks</text> <polygon fill="#eff1ff" stroke="transparent" points="1082,-547.5 1082,-567.5 1200,-567.5 1200,-547.5 1082,-547.5"/> <text text-anchor="start" x="1084" y="-552.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="1082,-527.5 1082,-547.5 1200,-547.5 1200,-527.5 1082,-527.5"/> <text text-anchor="start" x="1084" y="-532.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="1082,-507.5 1082,-527.5 1200,-527.5 1200,-507.5 1082,-507.5"/> <text text-anchor="start" x="1084" y="-512.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="1082,-487.5 1082,-507.5 1200,-507.5 1200,-487.5 1082,-487.5"/> <text text-anchor="start" x="1084" y="-492.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="1081,-487 1081,-642 1201,-642 1201,-487 1081,-487"/> </g> <!-- referendum_positions --> <g id="referendum_positions" class="node">
<title>
referendum_positions
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="323,-971.5 323,-991.5 478,-991.5 478,-971.5 323,-971.5"/> <text text-anchor="start" x="339.4614" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_positions</text> <polygon fill="#e4e6ff" stroke="transparent" points="323,-958.5 323,-971.5 478,-971.5 478,-958.5 323,-958.5"/> <text text-anchor="start" x="351.0708" y="-962.3" font-family="Times,serif" font-size="8.00" fill="#000000">actor positions on referendums</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-938.5 323,-958.5 478,-958.5 478,-938.5 323,-938.5"/> <text text-anchor="start" x="325" y="-943.9" font-family="Times,serif" font-size="14.00" fill="#444444">display</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-918.5 323,-938.5 478,-938.5 478,-918.5 323,-918.5"/> <text text-anchor="start" x="325" y="-923.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-898.5 323,-918.5 478,-918.5 478,-898.5 323,-898.5"/> <text text-anchor="start" x="325" y="-903.9" font-family="Times,serif" font-size="14.00" fill="#444444">actor_label</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-878.5 323,-898.5 478,-898.5 478,-878.5 323,-878.5"/> <text text-anchor="start" x="325" y="-883.9" font-family="Times,serif" font-size="14.00" fill="#444444">option_display</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-858.5 323,-878.5 478,-878.5 478,-858.5 323,-858.5"/> <text text-anchor="start" x="325" y="-863.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-838.5 323,-858.5 478,-858.5 478,-838.5 323,-838.5"/> <text text-anchor="start" x="325" y="-843.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-818.5 323,-838.5 478,-838.5 478,-818.5 323,-818.5"/> <text text-anchor="start" x="325" y="-823.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-798.5 323,-818.5 478,-818.5 478,-798.5 323,-798.5"/> <text text-anchor="start" x="325" y="-803.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#eff1ff" stroke="transparent" points="323,-778.5 323,-798.5 478,-798.5 478,-778.5 323,-778.5"/> <text text-anchor="start" x="324.7012" y="-784.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_id, actor_label</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="321.5,-778 321.5,-993 478.5,-993 478.5,-778 321.5,-778"/> </g> <!-- referendum_positions&#45;&gt;actors --> <g id="referendum_positions_1" class="edge">
<title>
referendum_positions:actor_label-\>actors:label
</title>
<path fill="none" stroke="#555555" d="M478,-908.5C538.246,-908.5 554.9784,-894.2021 610.465,-892.6383"/> <polygon fill="#555555" stroke="#555555" points="610.5492,-896.1376 620.5,-892.5 610.4527,-889.1383 610.5492,-896.1376"/> </g> <!-- referendum_positions&#45;&gt;options --> <g id="referendum_positions_2" class="edge">
<title>
referendum_positions:option_display-\>options:display
</title>
<path fill="none" stroke="#555555" d="M478,-888.5C607.9094,-888.5 522.8378,-656.2496 641.4104,-644.002"/> <polygon fill="#555555" stroke="#555555" points="641.6863,-647.4927 651.5,-643.5 641.3384,-640.5014 641.6863,-647.4927"/> </g> <!-- referendum_positions&#45;&gt;referendums --> <g id="referendum_positions_3" class="edge">
<title>
referendum_positions:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M478,-928.5C563.5149,-928.5 516.8983,-814.3965 592,-773.5 692.0211,-719.0336 735.5944,-755.2324 845.3757,-757.4001"/> <polygon fill="#555555" stroke="#555555" points="845.4659,-760.9011 855.5,-757.5 845.535,-753.9015 845.4659,-760.9011"/> </g> <!-- referendum_questions --> <g id="referendum_questions" class="node">
<title>
referendum_questions
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="608.5,-1148.5 608.5,-1168.5 785.5,-1168.5 785.5,-1148.5 608.5,-1148.5"/> <text text-anchor="start" x="634.7994" y="-1153.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_questions</text> <polygon fill="#e4e6ff" stroke="transparent" points="608.5,-1135.5 608.5,-1148.5 785.5,-1148.5 785.5,-1135.5 608.5,-1135.5"/> <text text-anchor="start" x="662.4568" y="-1139.3" font-family="Times,serif" font-size="8.00" fill="#000000">referendum questions</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1115.5 608.5,-1135.5 785.5,-1135.5 785.5,-1115.5 608.5,-1115.5"/> <text text-anchor="start" x="610.5" y="-1120.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1095.5 608.5,-1115.5 785.5,-1115.5 785.5,-1095.5 608.5,-1095.5"/> <text text-anchor="start" x="610.5" y="-1100.9" font-family="Times,serif" font-size="14.00" fill="#444444">language_code</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1075.5 608.5,-1095.5 785.5,-1095.5 785.5,-1075.5 608.5,-1075.5"/> <text text-anchor="start" x="610.5" y="-1080.9" font-family="Times,serif" font-size="14.00" fill="#444444">question</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1055.5 608.5,-1075.5 785.5,-1075.5 785.5,-1055.5 608.5,-1055.5"/> <text text-anchor="start" x="610.5" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#444444">is_official</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1035.5 608.5,-1055.5 785.5,-1055.5 785.5,-1035.5 608.5,-1035.5"/> <text text-anchor="start" x="610.5" y="-1040.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1015.5 608.5,-1035.5 785.5,-1035.5 785.5,-1015.5 608.5,-1015.5"/> <text text-anchor="start" x="610.5" y="-1020.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-995.5 608.5,-1015.5 785.5,-1015.5 785.5,-995.5 608.5,-995.5"/> <text text-anchor="start" x="610.5" y="-1000.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-975.5 608.5,-995.5 785.5,-995.5 785.5,-975.5 608.5,-975.5"/> <text text-anchor="start" x="610.5" y="-980.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-955.5 608.5,-975.5 785.5,-975.5 785.5,-955.5 608.5,-955.5"/> <text text-anchor="start" x="610.3148" y="-961.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_id, language_code</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="607,-955 607,-1170 786,-1170 786,-955 607,-955"/> </g> <!-- referendum_questions&#45;&gt;languages --> <g id="referendum_questions_1" class="edge">
<title>
referendum_questions:language_code-\>languages:code
</title>
<path fill="none" stroke="#555555" d="M785.5,-1105.5C864.6201,-1105.5 765.3878,-1442.0923 828.4841,-1472.333"/> <polygon fill="#555555" stroke="#555555" points="827.986,-1475.8062 838.5,-1474.5 829.4663,-1468.9644 827.986,-1475.8062"/> </g> <!-- referendum_questions&#45;&gt;referendums --> <g id="referendum_questions_2" class="edge">
<title>
referendum_questions:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M785.5,-1125.5C865.0046,-1125.5 780.5621,-789.8199 845.3371,-759.6611"/> <polygon fill="#555555" stroke="#555555" points="846.4467,-763.0035 855.5,-757.5 844.9907,-756.1566 846.4467,-763.0035"/> </g> <!-- referendum_sub_votes --> <g id="referendum_sub_votes" class="node">
<title>
referendum_sub_votes
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="245,-485.5 245,-505.5 555,-505.5 555,-485.5 245,-485.5"/> <text text-anchor="start" x="336.2447" y="-490.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_sub_votes</text> <polygon fill="#e4e6ff" stroke="transparent" points="245,-472.5 245,-485.5 555,-485.5 555,-472.5 245,-472.5"/> <text text-anchor="start" x="324.6864" y="-476.3" font-family="Times,serif" font-size="8.00" fill="#000000">votes cast in referendums by subnational entity</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-452.5 245,-472.5 555,-472.5 555,-452.5 245,-452.5"/> <text text-anchor="start" x="247" y="-457.9" font-family="Times,serif" font-size="14.00" fill="#444444">display</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-432.5 245,-452.5 555,-452.5 555,-432.5 245,-432.5"/> <text text-anchor="start" x="247" y="-437.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-412.5 245,-432.5 555,-432.5 555,-412.5 245,-412.5"/> <text text-anchor="start" x="247" y="-417.9" font-family="Times,serif" font-size="14.00" fill="#444444">administrative_unit_id</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-392.5 245,-412.5 555,-412.5 555,-392.5 245,-392.5"/> <text text-anchor="start" x="247" y="-397.9" font-family="Times,serif" font-size="14.00" fill="#444444">option_display</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-372.5 245,-392.5 555,-392.5 555,-372.5 245,-372.5"/> <text text-anchor="start" x="247" y="-377.9" font-family="Times,serif" font-size="14.00" fill="#444444">count</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-352.5 245,-372.5 555,-372.5 555,-352.5 245,-352.5"/> <text text-anchor="start" x="247" y="-357.9" font-family="Times,serif" font-size="14.00" fill="#444444">source</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-332.5 245,-352.5 555,-352.5 555,-332.5 245,-332.5"/> <text text-anchor="start" x="247" y="-337.9" font-family="Times,serif" font-size="14.00" fill="#444444">remarks</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-312.5 245,-332.5 555,-332.5 555,-312.5 245,-312.5"/> <text text-anchor="start" x="247" y="-317.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-292.5 245,-312.5 555,-312.5 555,-292.5 245,-292.5"/> <text text-anchor="start" x="247" y="-297.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-272.5 245,-292.5 555,-292.5 555,-272.5 245,-272.5"/> <text text-anchor="start" x="247" y="-277.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-252.5 245,-272.5 555,-272.5 555,-252.5 245,-252.5"/> <text text-anchor="start" x="247" y="-257.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#eff1ff" stroke="transparent" points="245,-232.5 245,-252.5 555,-252.5 555,-232.5 245,-232.5"/> <text text-anchor="start" x="246.8036" y="-238.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_id, administrative_unit_id, option_display</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="244,-232 244,-507 556,-507 556,-232 244,-232"/> </g> <!-- referendum_sub_votes&#45;&gt;administrative_units --> <g id="referendum_sub_votes_1" class="edge">
<title>
referendum_sub_votes:administrative_unit_id-\>administrative_units:id
</title>
<path fill="none" stroke="#555555" d="M555,-422.5C754.6822,-422.5 862.163,-297.9466 1004,-438.5 1066.783,-500.7149 958.1356,-1207.0131 1031.1691,-1262.0977"/> <polygon fill="#555555" stroke="#555555" points="1030.4052,-1265.5369 1041,-1265.5 1032.6946,-1258.9219 1030.4052,-1265.5369"/> </g> <!-- referendum_sub_votes&#45;&gt;options --> <g id="referendum_sub_votes_2" class="edge">
<title>
referendum_sub_votes:option_display-\>options:display
</title>
<path fill="none" stroke="#555555" d="M555,-402.5C581.1405,-402.5 615.4659,-600.4307 643.1411,-637.5427"/> <polygon fill="#555555" stroke="#555555" points="641.3252,-640.5464 651.5,-643.5 645.3879,-634.846 641.3252,-640.5464"/> </g> <!-- referendum_sub_votes&#45;&gt;referendums --> <g id="referendum_sub_votes_3" class="edge">
<title>
referendum_sub_votes:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M555,-442.5C665.9154,-442.5 721.4829,-407.1743 801,-484.5 887.1036,-568.2307 740.8145,-746.6443 845.3375,-757.0264"/> <polygon fill="#555555" stroke="#555555" points="845.3479,-760.5306 855.5,-757.5 845.6738,-753.5382 845.3479,-760.5306"/> </g> <!-- referendum_titles --> <g id="referendum_titles" class="node">
<title>
referendum_titles
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="608.5,-1634.5 608.5,-1654.5 785.5,-1654.5 785.5,-1634.5 608.5,-1634.5"/> <text text-anchor="start" x="647.6311" y="-1639.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_titles</text> <polygon fill="#e4e6ff" stroke="transparent" points="608.5,-1621.5 608.5,-1634.5 785.5,-1634.5 785.5,-1621.5 608.5,-1621.5"/> <text text-anchor="start" x="669.7892" y="-1625.3" font-family="Times,serif" font-size="8.00" fill="#000000">referendum titles</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1601.5 608.5,-1621.5 785.5,-1621.5 785.5,-1601.5 608.5,-1601.5"/> <text text-anchor="start" x="610.5" y="-1606.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1581.5 608.5,-1601.5 785.5,-1601.5 785.5,-1581.5 608.5,-1581.5"/> <text text-anchor="start" x="610.5" y="-1586.9" font-family="Times,serif" font-size="14.00" fill="#444444">language_code</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1561.5 608.5,-1581.5 785.5,-1581.5 785.5,-1561.5 608.5,-1561.5"/> <text text-anchor="start" x="610.5" y="-1566.9" font-family="Times,serif" font-size="14.00" fill="#444444">title</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1541.5 608.5,-1561.5 785.5,-1561.5 785.5,-1541.5 608.5,-1541.5"/> <text text-anchor="start" x="610.5" y="-1546.9" font-family="Times,serif" font-size="14.00" fill="#444444">is_official</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1521.5 608.5,-1541.5 785.5,-1541.5 785.5,-1521.5 608.5,-1521.5"/> <text text-anchor="start" x="610.5" y="-1526.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1501.5 608.5,-1521.5 785.5,-1521.5 785.5,-1501.5 608.5,-1501.5"/> <text text-anchor="start" x="610.5" y="-1506.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1481.5 608.5,-1501.5 785.5,-1501.5 785.5,-1481.5 608.5,-1481.5"/> <text text-anchor="start" x="610.5" y="-1486.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1461.5 608.5,-1481.5 785.5,-1481.5 785.5,-1461.5 608.5,-1461.5"/> <text text-anchor="start" x="610.5" y="-1466.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1441.5 608.5,-1461.5 785.5,-1461.5 785.5,-1441.5 608.5,-1441.5"/> <text text-anchor="start" x="610.3148" y="-1447.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_id, language_code</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="607,-1441 607,-1656 786,-1656 786,-1441 607,-1441"/> </g> <!-- referendum_titles&#45;&gt;languages --> <g id="referendum_titles_1" class="edge">
<title>
referendum_titles:language_code-\>languages:code
</title>
<path fill="none" stroke="#555555" d="M785.5,-1591.5C838.5726,-1591.5 789.4313,-1490.3747 828.1301,-1476.1539"/> <polygon fill="#555555" stroke="#555555" points="829.1761,-1479.5314 838.5,-1474.5 828.0735,-1472.6188 829.1761,-1479.5314"/> </g> <!-- referendum_titles&#45;&gt;referendums --> <g id="referendum_titles_2" class="edge">
<title>
referendum_titles:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M785.5,-1611.5C877.174,-1611.5 768.9329,-819.7068 845.7695,-760.9409"/> <polygon fill="#555555" stroke="#555555" points="847.239,-764.1337 855.5,-757.5 844.9052,-757.5342 847.239,-764.1337"/> </g> <!-- referendum_types --> <g id="referendum_types" class="node">
<title>
referendum_types
</title>
<polygon fill="#64d864" stroke="transparent" points="325,-1518.5 325,-1538.5 475,-1538.5 475,-1518.5 325,-1518.5"/> <text text-anchor="start" x="349.467" y="-1523.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_types</text> <polygon fill="#c8f1c8" stroke="transparent" points="325,-1505.5 325,-1518.5 475,-1518.5 475,-1505.5 325,-1505.5"/> <text text-anchor="start" x="372.124" y="-1509.3" font-family="Times,serif" font-size="8.00" fill="#000000">referendum types</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1485.5 325,-1505.5 475,-1505.5 475,-1485.5 325,-1485.5"/> <text text-anchor="start" x="327" y="-1491.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">id</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1465.5 325,-1485.5 475,-1485.5 475,-1465.5 325,-1465.5"/> <text text-anchor="start" x="327" y="-1470.9" font-family="Times,serif" font-size="14.00" fill="#444444">display</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1445.5 325,-1465.5 475,-1465.5 475,-1445.5 325,-1445.5"/> <text text-anchor="start" x="327" y="-1450.9" font-family="Times,serif" font-size="14.00" fill="#444444">is_draft</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1425.5 325,-1445.5 475,-1445.5 475,-1425.5 325,-1425.5"/> <text text-anchor="start" x="327" y="-1430.9" font-family="Times,serif" font-size="14.00" fill="#444444">administrative_unit_id</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1405.5 325,-1425.5 475,-1425.5 475,-1405.5 325,-1405.5"/> <text text-anchor="start" x="327" y="-1410.9" font-family="Times,serif" font-size="14.00" fill="#444444">title</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1385.5 325,-1405.5 475,-1405.5 475,-1385.5 325,-1385.5"/> <text text-anchor="start" x="327" y="-1390.9" font-family="Times,serif" font-size="14.00" fill="#444444">valid_from</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1365.5 325,-1385.5 475,-1385.5 475,-1365.5 325,-1365.5"/> <text text-anchor="start" x="327" y="-1370.9" font-family="Times,serif" font-size="14.00" fill="#444444">valid_to</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1345.5 325,-1365.5 475,-1365.5 475,-1345.5 325,-1345.5"/> <text text-anchor="start" x="327" y="-1350.9" font-family="Times,serif" font-size="14.00" fill="#444444">trigger_actor_label</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1325.5 325,-1345.5 475,-1345.5 475,-1325.5 325,-1325.5"/> <text text-anchor="start" x="327" y="-1330.9" font-family="Times,serif" font-size="14.00" fill="#444444">trigger_threshold_count</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1305.5 325,-1325.5 475,-1325.5 475,-1305.5 325,-1305.5"/> <text text-anchor="start" x="326.5224" y="-1310.9" font-family="Times,serif" font-size="14.00" fill="#444444">are_empty_votes_counted</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1285.5 325,-1305.5 475,-1305.5 475,-1285.5 325,-1285.5"/> <text text-anchor="start" x="327" y="-1290.9" font-family="Times,serif" font-size="14.00" fill="#444444">quorum_approval</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1265.5 325,-1285.5 475,-1285.5 475,-1265.5 325,-1265.5"/> <text text-anchor="start" x="327" y="-1270.9" font-family="Times,serif" font-size="14.00" fill="#444444">quorum_turnout</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1245.5 325,-1265.5 475,-1265.5 475,-1245.5 325,-1245.5"/> <text text-anchor="start" x="327" y="-1250.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1225.5 325,-1245.5 475,-1245.5 475,-1225.5 325,-1225.5"/> <text text-anchor="start" x="327" y="-1230.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1205.5 325,-1225.5 475,-1225.5 475,-1205.5 325,-1205.5"/> <text text-anchor="start" x="327" y="-1210.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#e0f7e0" stroke="transparent" points="325,-1185.5 325,-1205.5 475,-1205.5 475,-1185.5 325,-1185.5"/> <text text-anchor="start" x="327" y="-1190.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#429042" stroke-opacity="0.666667" points="324,-1185 324,-1540 476,-1540 476,-1185 324,-1185"/> </g> <!-- referendum_types&#45;&gt;actors --> <g id="referendum_types_1" class="edge">
<title>
referendum_types:trigger_actor_label-\>actors:label
</title>
<path fill="none" stroke="#555555" d="M475,-1355.5C579.2688,-1355.5 517.1156,-922.7357 610.333,-893.9974"/> <polygon fill="#555555" stroke="#555555" points="611.1167,-897.4198 620.5,-892.5 610.0967,-890.4945 611.1167,-897.4198"/> </g> <!-- referendum_types&#45;&gt;administrative_units --> <g id="referendum_types_2" class="edge">
<title>
referendum_types:administrative_unit_id-\>administrative_units:id
</title>
<path fill="none" stroke="#555555" d="M475,-1435.5C589.6882,-1435.5 494.232,-1605.5434 592,-1665.5 671.1848,-1714.0604 712.1734,-1692.6693 801,-1665.5 905.0862,-1633.6633 946.3255,-1620.8101 1004,-1528.5 1033.3185,-1481.5748 988.3113,-1291.482 1031.2019,-1267.9037"/> <polygon fill="#555555" stroke="#555555" points="1032.1219,-1271.2819 1041,-1265.5 1030.454,-1264.4834 1032.1219,-1271.2819"/> </g> <!-- referendum_types_legal_norms --> <g id="referendum_types_legal_norms" class="node">
<title>
referendum_types_legal_norms
</title>
<polygon fill="#c2f0c2" stroke="transparent" points="1,-1718.5 1,-1738.5 207,-1738.5 207,-1718.5 1,-1718.5"/> <text text-anchor="start" x="15.3639" y="-1723.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_types_legal_norms</text> <polygon fill="#e9f9e9" stroke="transparent" points="1,-1705.5 1,-1718.5 207,-1718.5 207,-1705.5 1,-1705.5"/> <text text-anchor="start" x="26.3544" y="-1709.3" font-family="Times,serif" font-size="8.00" fill="#000000">junction table: referendum_types ↔ legal_norms</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-1685.5 1,-1705.5 207,-1705.5 207,-1685.5 1,-1685.5"/> <text text-anchor="start" x="3" y="-1690.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_type_id</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-1665.5 1,-1685.5 207,-1685.5 207,-1665.5 1,-1665.5"/> <text text-anchor="start" x="3" y="-1670.9" font-family="Times,serif" font-size="14.00" fill="#444444">legal_norm_id</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-1645.5 1,-1665.5 207,-1665.5 207,-1645.5 1,-1645.5"/> <text text-anchor="start" x="3" y="-1650.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-1625.5 1,-1645.5 207,-1645.5 207,-1625.5 1,-1625.5"/> <text text-anchor="start" x="3" y="-1630.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-1605.5 1,-1625.5 207,-1625.5 207,-1605.5 1,-1605.5"/> <text text-anchor="start" x="3" y="-1610.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-1585.5 1,-1605.5 207,-1605.5 207,-1585.5 1,-1585.5"/> <text text-anchor="start" x="3" y="-1590.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-1565.5 1,-1585.5 207,-1585.5 207,-1565.5 1,-1565.5"/> <text text-anchor="start" x="2.9179" y="-1571.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_type_id, legal_norm_id</text> <polygon fill="none" stroke="#81a081" stroke-opacity="0.666667" points="0,-1565 0,-1740 208,-1740 208,-1565 0,-1565"/> </g> <!-- referendum_types_legal_norms&#45;&gt;legal_norms --> <g id="referendum_types_legal_norms_1" class="edge">
<title>
referendum_types_legal_norms:legal_norm_id-\>legal_norms:id
</title>
<path fill="none" stroke="#555555" d="M207,-1675.5C307.3398,-1675.5 229.8188,-1862.0618 318.0002,-1874.815"/> <polygon fill="#555555" stroke="#555555" points="317.7842,-1878.3083 328,-1875.5 318.2626,-1871.3247 317.7842,-1878.3083"/> </g> <!-- referendum_types_legal_norms&#45;&gt;referendum_types --> <g id="referendum_types_legal_norms_2" class="edge">
<title>
referendum_types_legal_norms:referendum_type_id-\>referendum_types:id
</title>
<path fill="none" stroke="#555555" d="M207,-1695.5C212.6693,-1695.5 294.5424,-1541.0048 318.6674,-1503.5879"/> <polygon fill="#555555" stroke="#555555" points="321.5909,-1505.5314 325,-1495.5 316.0793,-1501.216 321.5909,-1505.5314"/> </g> <!-- referendum_types_referendums --> <g id="referendum_types_referendums" class="node">
<title>
referendum_types_referendums
</title>
<polygon fill="#c2f0c2" stroke="transparent" points="1,-882.5 1,-902.5 207,-902.5 207,-882.5 1,-882.5"/> <text text-anchor="start" x="14.9866" y="-887.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_types_referendums</text> <polygon fill="#e9f9e9" stroke="transparent" points="1,-869.5 1,-882.5 207,-882.5 207,-869.5 1,-869.5"/> <text text-anchor="start" x="26.1388" y="-873.3" font-family="Times,serif" font-size="8.00" fill="#000000">junction table: referendum_types ↔ referendums</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-849.5 1,-869.5 207,-869.5 207,-849.5 1,-849.5"/> <text text-anchor="start" x="3" y="-854.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_type_id</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-829.5 1,-849.5 207,-849.5 207,-829.5 1,-829.5"/> <text text-anchor="start" x="3" y="-834.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-809.5 1,-829.5 207,-829.5 207,-809.5 1,-809.5"/> <text text-anchor="start" x="3" y="-814.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-789.5 1,-809.5 207,-809.5 207,-789.5 1,-789.5"/> <text text-anchor="start" x="3" y="-794.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-769.5 1,-789.5 207,-789.5 207,-769.5 1,-769.5"/> <text text-anchor="start" x="3" y="-774.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-749.5 1,-769.5 207,-769.5 207,-749.5 1,-749.5"/> <text text-anchor="start" x="3" y="-754.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#f2fcf2" stroke="transparent" points="1,-729.5 1,-749.5 207,-749.5 207,-729.5 1,-729.5"/> <text text-anchor="start" x="2.5406" y="-735.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_type_id, referendum_id</text> <polygon fill="none" stroke="#81a081" stroke-opacity="0.666667" points="0,-729 0,-904 208,-904 208,-729 0,-729"/> </g> <!-- referendum_types_referendums&#45;&gt;referendum_types --> <g id="referendum_types_referendums_1" class="edge">
<title>
referendum_types_referendums:referendum_type_id-\>referendum_types:id
</title>
<path fill="none" stroke="#555555" d="M207,-859.5C240.6201,-859.5 283.1599,-1416.1577 317.9298,-1487.9144"/> <polygon fill="#555555" stroke="#555555" points="315.6215,-1490.5711 325,-1495.5 320.7422,-1485.7984 315.6215,-1490.5711"/> </g> <!-- referendum_types_referendums&#45;&gt;referendums --> <g id="referendum_types_referendums_2" class="edge">
<title>
referendum_types_referendums:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M207,-839.5C275.5678,-839.5 194.0829,-270.5088 244,-223.5 436.1499,-42.5453 670.2743,-200.2033 801,-429.5 835.8084,-490.555 786.8582,-732.2132 845.5795,-755.667"/> <polygon fill="#555555" stroke="#555555" points="845.0305,-759.1247 855.5,-757.5 846.3024,-752.2413 845.0305,-759.1247"/> </g> <!-- referendum_urls --> <g id="referendum_urls" class="node">
<title>
referendum_urls
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="608.5,-1401.5 608.5,-1421.5 785.5,-1421.5 785.5,-1401.5 608.5,-1401.5"/> <text text-anchor="start" x="650.744" y="-1406.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_urls</text> <polygon fill="#e4e6ff" stroke="transparent" points="608.5,-1388.5 608.5,-1401.5 785.5,-1401.5 785.5,-1388.5 608.5,-1388.5"/> <text text-anchor="start" x="668.0124" y="-1392.3" font-family="Times,serif" font-size="8.00" fill="#000000">referendum URLs</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1368.5 608.5,-1388.5 785.5,-1388.5 785.5,-1368.5 608.5,-1368.5"/> <text text-anchor="start" x="610.5" y="-1373.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1348.5 608.5,-1368.5 785.5,-1368.5 785.5,-1348.5 608.5,-1348.5"/> <text text-anchor="start" x="610.5" y="-1353.9" font-family="Times,serif" font-size="14.00" fill="#444444">language_code</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1328.5 608.5,-1348.5 785.5,-1348.5 785.5,-1328.5 608.5,-1328.5"/> <text text-anchor="start" x="610.5" y="-1333.9" font-family="Times,serif" font-size="14.00" fill="#444444">url</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1308.5 608.5,-1328.5 785.5,-1328.5 785.5,-1308.5 608.5,-1308.5"/> <text text-anchor="start" x="610.5" y="-1313.9" font-family="Times,serif" font-size="14.00" fill="#444444">description</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1288.5 608.5,-1308.5 785.5,-1308.5 785.5,-1288.5 608.5,-1288.5"/> <text text-anchor="start" x="610.5" y="-1293.9" font-family="Times,serif" font-size="14.00" fill="#444444">is_official</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1268.5 608.5,-1288.5 785.5,-1288.5 785.5,-1268.5 608.5,-1268.5"/> <text text-anchor="start" x="610.5" y="-1273.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1248.5 608.5,-1268.5 785.5,-1268.5 785.5,-1248.5 608.5,-1248.5"/> <text text-anchor="start" x="610.5" y="-1253.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1228.5 608.5,-1248.5 785.5,-1248.5 785.5,-1228.5 608.5,-1228.5"/> <text text-anchor="start" x="610.5" y="-1233.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1208.5 608.5,-1228.5 785.5,-1228.5 785.5,-1208.5 608.5,-1208.5"/> <text text-anchor="start" x="610.5" y="-1213.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#eff1ff" stroke="transparent" points="608.5,-1188.5 608.5,-1208.5 785.5,-1208.5 785.5,-1188.5 608.5,-1188.5"/> <text text-anchor="start" x="610.3148" y="-1194.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_id, language_code</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="607,-1188 607,-1423 786,-1423 786,-1188 607,-1188"/> </g> <!-- referendum_urls&#45;&gt;languages --> <g id="referendum_urls_1" class="edge">
<title>
referendum_urls:language_code-\>languages:code
</title>
<path fill="none" stroke="#555555" d="M785.5,-1358.5C838.1965,-1358.5 789.7281,-1458.761 828.1983,-1472.8602"/> <polygon fill="#555555" stroke="#555555" points="828.0741,-1476.3844 838.5,-1474.5 829.1746,-1469.4714 828.0741,-1476.3844"/> </g> <!-- referendum_urls&#45;&gt;referendums --> <g id="referendum_urls_2" class="edge">
<title>
referendum_urls:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M785.5,-1378.5C920.7122,-1378.5 727.3405,-789.8163 845.2251,-758.7724"/> <polygon fill="#555555" stroke="#555555" points="846.006,-762.2026 855.5,-757.5 845.1456,-755.2556 846.006,-762.2026"/> </g> <!-- referendum_votes --> <g id="referendum_votes" class="node">
<title>
referendum_votes
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="312,-738.5 312,-758.5 488,-758.5 488,-738.5 312,-738.5"/> <text text-anchor="start" x="349.467" y="-743.9" font-family="Times,serif" font-size="14.00" fill="#000000">referendum_votes</text> <polygon fill="#e4e6ff" stroke="transparent" points="312,-725.5 312,-738.5 488,-738.5 488,-725.5 312,-725.5"/> <text text-anchor="start" x="359.2384" y="-729.3" font-family="Times,serif" font-size="8.00" fill="#000000">votes cast in referendums</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-705.5 312,-725.5 488,-725.5 488,-705.5 312,-705.5"/> <text text-anchor="start" x="314" y="-710.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-685.5 312,-705.5 488,-705.5 488,-685.5 312,-685.5"/> <text text-anchor="start" x="314" y="-690.9" font-family="Times,serif" font-size="14.00" fill="#444444">option_display</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-665.5 312,-685.5 488,-685.5 488,-665.5 312,-665.5"/> <text text-anchor="start" x="314" y="-670.9" font-family="Times,serif" font-size="14.00" fill="#444444">count</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-645.5 312,-665.5 488,-665.5 488,-645.5 312,-645.5"/> <text text-anchor="start" x="314" y="-650.9" font-family="Times,serif" font-size="14.00" fill="#444444">source</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-625.5 312,-645.5 488,-645.5 488,-625.5 312,-625.5"/> <text text-anchor="start" x="314" y="-630.9" font-family="Times,serif" font-size="14.00" fill="#444444">remarks</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-605.5 312,-625.5 488,-625.5 488,-605.5 312,-605.5"/> <text text-anchor="start" x="314" y="-610.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-585.5 312,-605.5 488,-605.5 488,-585.5 312,-585.5"/> <text text-anchor="start" x="314" y="-590.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-565.5 312,-585.5 488,-585.5 488,-565.5 312,-565.5"/> <text text-anchor="start" x="314" y="-570.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-545.5 312,-565.5 488,-565.5 488,-545.5 312,-545.5"/> <text text-anchor="start" x="314" y="-550.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#eff1ff" stroke="transparent" points="312,-525.5 312,-545.5 488,-545.5 488,-525.5 312,-525.5"/> <text text-anchor="start" x="313.6858" y="-531.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">referendum_id, option_display</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="311,-525 311,-760 489,-760 489,-525 311,-525"/> </g> <!-- referendum_votes&#45;&gt;options --> <g id="referendum_votes_1" class="edge">
<title>
referendum_votes:option_display-\>options:display
</title>
<path fill="none" stroke="#555555" d="M488,-695.5C560.6789,-695.5 574.0727,-648.2607 641.1936,-643.8321"/> <polygon fill="#555555" stroke="#555555" points="641.6179,-647.3203 651.5,-643.5 641.3924,-640.3239 641.6179,-647.3203"/> </g> <!-- referendum_votes&#45;&gt;referendums --> <g id="referendum_votes_2" class="edge">
<title>
referendum_votes:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M488,-715.5C627.5195,-715.5 664.1999,-712.0879 801,-739.5 822.2992,-743.768 828.3462,-753.8199 845.4244,-756.71"/> <polygon fill="#555555" stroke="#555555" points="845.257,-760.2076 855.5,-757.5 845.8042,-753.229 845.257,-760.2076"/> </g> <!-- referendums&#45;&gt;administrative_units --> <g id="referendums_1" class="edge">
<title>
referendums:administrative_unit_id-\>administrative_units:id
</title>
<path fill="none" stroke="#555555" d="M985.5,-617.5C1126.3576,-617.5 908.0892,-1233.0115 1030.7099,-1264.2679"/> <polygon fill="#555555" stroke="#555555" points="1030.6548,-1267.7863 1041,-1265.5 1031.487,-1260.8359 1030.6548,-1267.7863"/> </g> <!-- referendums&#45;&gt;referendum_clusters --> <g id="referendums_2" class="edge">
<title>
referendums:cluster_id-\>referendum_clusters:id
</title>
<path fill="none" stroke="#555555" d="M985.5,-597.5C1024.7031,-597.5 1037.0307,-597.5 1071.6146,-597.5"/> <polygon fill="#555555" stroke="#555555" points="1072,-601.0001 1082,-597.5 1072,-594.0001 1072,-601.0001"/> </g> <!-- topics --> <g id="topics" class="node">
<title>
topics
</title>
<polygon fill="#ffcf3d" stroke="transparent" points="857.5,-153.5 857.5,-173.5 984.5,-173.5 984.5,-153.5 857.5,-153.5"/> <text text-anchor="start" x="904.2798" y="-158.9" font-family="Times,serif" font-size="14.00" fill="#000000">topics</text> <polygon fill="#ffeebb" stroke="transparent" points="857.5,-140.5 857.5,-153.5 984.5,-153.5 984.5,-140.5 857.5,-140.5"/> <text text-anchor="start" x="859.0188" y="-144.3" font-family="Times,serif" font-size="8.00" fill="#000000">political topics to classify referendums</text> <polygon fill="#fff5d8" stroke="transparent" points="857.5,-120.5 857.5,-140.5 984.5,-140.5 984.5,-120.5 857.5,-120.5"/> <text text-anchor="start" x="859.5" y="-126.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">name</text> <polygon fill="#fff5d8" stroke="transparent" points="857.5,-100.5 857.5,-120.5 984.5,-120.5 984.5,-100.5 857.5,-100.5"/> <text text-anchor="start" x="859.5" y="-105.9" font-family="Times,serif" font-size="14.00" fill="#444444">parent_name</text> <polygon fill="#fff5d8" stroke="transparent" points="857.5,-80.5 857.5,-100.5 984.5,-100.5 984.5,-80.5 857.5,-80.5"/> <text text-anchor="start" x="859.5" y="-85.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#fff5d8" stroke="transparent" points="857.5,-60.5 857.5,-80.5 984.5,-80.5 984.5,-60.5 857.5,-60.5"/> <text text-anchor="start" x="859.5" y="-65.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#fff5d8" stroke="transparent" points="857.5,-40.5 857.5,-60.5 984.5,-60.5 984.5,-40.5 857.5,-40.5"/> <text text-anchor="start" x="859.5" y="-45.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#fff5d8" stroke="transparent" points="857.5,-20.5 857.5,-40.5 984.5,-40.5 984.5,-20.5 857.5,-20.5"/> <text text-anchor="start" x="859.5" y="-25.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="none" stroke="#aa8a28" stroke-opacity="0.666667" points="856,-20 856,-175 985,-175 985,-20 856,-20"/> </g> <!-- topics&#45;&gt;topics --> <g id="topics_1" class="edge">
<title>
topics:parent_name-\>topics:name
</title>
<path fill="none" stroke="#555555" d="M857.3023,-105.0781C803.045,-103.2413 746,-107.252 746,-120.5 746,-132.92 796.1372,-137.2213 847.111,-136.1969"/> <polygon fill="#555555" stroke="#555555" points="847.4004,-139.6905 857.3023,-135.9219 847.2115,-132.693 847.4004,-139.6905"/> </g> <!-- topics_referendums --> <g id="topics_referendums" class="node">
<title>
topics_referendums
</title>
<polygon fill="#b3b9ff" stroke="transparent" points="617.5,-153.5 617.5,-173.5 775.5,-173.5 775.5,-153.5 617.5,-153.5"/> <text text-anchor="start" x="641.2994" y="-158.9" font-family="Times,serif" font-size="14.00" fill="#000000">topics_referendums</text> <polygon fill="#e4e6ff" stroke="transparent" points="617.5,-140.5 617.5,-153.5 775.5,-153.5 775.5,-140.5 617.5,-140.5"/> <text text-anchor="start" x="637.9604" y="-144.3" font-family="Times,serif" font-size="8.00" fill="#000000">junction table: topics ↔ referendums</text> <polygon fill="#eff1ff" stroke="transparent" points="617.5,-120.5 617.5,-140.5 775.5,-140.5 775.5,-120.5 617.5,-120.5"/> <text text-anchor="start" x="619.5" y="-125.9" font-family="Times,serif" font-size="14.00" fill="#444444">topic_name</text> <polygon fill="#eff1ff" stroke="transparent" points="617.5,-100.5 617.5,-120.5 775.5,-120.5 775.5,-100.5 617.5,-100.5"/> <text text-anchor="start" x="619.5" y="-105.9" font-family="Times,serif" font-size="14.00" fill="#444444">referendum_id</text> <polygon fill="#eff1ff" stroke="transparent" points="617.5,-80.5 617.5,-100.5 775.5,-100.5 775.5,-80.5 617.5,-80.5"/> <text text-anchor="start" x="619.5" y="-85.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_by</text> <polygon fill="#eff1ff" stroke="transparent" points="617.5,-60.5 617.5,-80.5 775.5,-80.5 775.5,-60.5 617.5,-60.5"/> <text text-anchor="start" x="619.5" y="-65.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_by</text> <polygon fill="#eff1ff" stroke="transparent" points="617.5,-40.5 617.5,-60.5 775.5,-60.5 775.5,-40.5 617.5,-40.5"/> <text text-anchor="start" x="619.5" y="-45.9" font-family="Times,serif" font-size="14.00" fill="#444444">created_at</text> <polygon fill="#eff1ff" stroke="transparent" points="617.5,-20.5 617.5,-40.5 775.5,-40.5 775.5,-20.5 617.5,-20.5"/> <text text-anchor="start" x="619.5" y="-25.9" font-family="Times,serif" font-size="14.00" fill="#444444">updated_at</text> <polygon fill="#eff1ff" stroke="transparent" points="617.5,-.5 617.5,-20.5 775.5,-20.5 775.5,-.5 617.5,-.5"/> <text text-anchor="start" x="619.1388" y="-6.9" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">topic_name, referendum_id</text> <polygon fill="none" stroke="#777baa" stroke-opacity="0.666667" points="616.5,0 616.5,-175 776.5,-175 776.5,0 616.5,0"/> </g> <!-- topics_referendums&#45;&gt;referendums --> <g id="topics_referendums_1" class="edge">
<title>
topics_referendums:referendum_id-\>referendums:id
</title>
<path fill="none" stroke="#555555" d="M775.5,-110.5C916.8358,-110.5 720.6574,-726.2938 845.513,-756.3619"/> <polygon fill="#555555" stroke="#555555" points="845.168,-759.8452 855.5,-757.5 845.9606,-752.8902 845.168,-759.8452"/> </g> <!-- topics_referendums&#45;&gt;topics --> <g id="topics_referendums_2" class="edge">
<title>
topics_referendums:topic_name-\>topics:name
</title>

<path fill="none" stroke="#555555" d="M775.5,-130.5C808.2431,-130.5 818.9229,-130.5 847.1844,-130.5"/> <polygon fill="#555555" stroke="#555555" points="847.5,-134.0001 857.5,-130.5 847.5,-127.0001 847.5,-134.0001"/> </g> </g> </svg>

</a>

## Installation

To install the latest development version of rdb, run the following in R:

``` r
if (!("remotes" %in% rownames(installed.packages()))) {
  install.packages(pkgs = "remotes",
                   repos = "https://cloud.r-project.org/")
}

remotes::install_gitlab(repo = "zdaarau/rpkgs/rdb")
```

## Usage

An introduction to this package is given [here](articles/rdb.html). The (function) reference is found [here](reference).

## Package configuration

Some of rdb's functionality is controlled via package-specific global configuration which can either be set via [R options](https://rdrr.io/r/base/options.html) or [environment variables](https://en.wikipedia.org/wiki/Environment_variable) (the former take precedence). This configuration includes:

::: table-wide
  **Description**                                                                                                                                                                                                                                     **R option**                         **Environment variable**               **Default value**
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------------------------------------ -------------------------------------- ----------------------------------------------------------
  RDB PostgreSQL (neon.tech) host address. Defaults to a [read replica](https://neon.tech/docs/introduction/read-replicas) which has no write access to the database.                                                                                 `rdb.pg_host`                        `R_RDB_PG_HOST`                        `"ep-frosty-flower-a28keh10.eu-central-1.aws.neon.tech"`
  RDB PostgreSQL username for database operations performed via this package. To be able to edit the database, the user must have sufficient privileges. Defaults to the read-only user `r_anon`.                                                     `rdb.pg_user`                        `R_RDB_PG_USER`                        `"r_anon"`
  Password for `pg_user`. Defaults to the password for the read-only user `r_anon`.                                                                                                                                                                   `rdb.pg_password`                    `R_RDB_PG_PASSWORD`                    `"WTYUeDtTm0UV4nXzTZ7morHSdM0wQh0p"`
  File path to a UTF-8 encoded CSV file containing the columns `role` and `password` describing additional roles on the RDB PostgreSQL server. Required for [`rdb::pg_init_db()`](https://rdb.rpkg.dev/reference/pg_init_db.html) and others.         `rdb.pg_roles_csv_file`              `R_RDB_PG_ROLES_CSV_FILE`              
  [API key](https://neon.tech/docs/manage/api-keys) for the RDB neon.tech project `neon_rdb`. Required for [`rdb::restart_neon_ep()`](https://rdb.rpkg.dev/reference/restart_neon_ep.html).                                                           `rdb.neon_api_key`                   `R_RDB_NEON_API_KEY`                   
  RDB NocoDB server host address. Required for [`rdb::reset_nocodb()`](https://rdb.rpkg.dev/reference/reset_nocodb.html).                                                                                                                             `rdb.nocodb_host`                    `R_RDB_NOCODB_HOST`                    `"admin.rdb.vote"`
  E-mail address of the RDB NocoDB server's super admin user. Required for [`rdb::reset_nocodb()`](https://rdb.rpkg.dev/reference/reset_nocodb.html).                                                                                                 `rdb.nocodb_email`                   `R_RDB_NOCODB_EMAIL`                   
  Password of the RDB NocoDB server's super admin user. Required for [`rdb::reset_nocodb()`](https://rdb.rpkg.dev/reference/reset_nocodb.html).                                                                                                       `rdb.nocodb_password`                `R_RDB_NOCODB_PASSWORD`                
  File path to a UTF-8 encoded CSV file containing the columns `name`, `email` and `password` describing additional user accounts to create on the RDB NocoDB server via [`rdb::reset_nocodb()`](https://rdb.rpkg.dev/reference/reset_nocodb.html).   `rdb.nocodb_user_account_csv_file`   `R_RDB_NOCODB_USER_ACCOUNT_CSV_FILE`   
  ID of an access key granting read/write access to the S3-compatible object storage buckets `rdb-attachments` and `rdb-nocodb`. Required for various [administration functions](https://rdb.rpkg.dev/reference/#administration).                     `rdb.nocodb_s3_access_key`           `R_RDB_NOCODB_S3_ACCESS_KEY`           
  Secret of an access key granting read/write access to the S3-compatible object storage buckets `rdb-attachments` and `rdb-nocodb`. Required for various [administration functions](https://rdb.rpkg.dev/reference/#administration).                 `rdb.nocodb_s3_access_secret`        `R_RDB_NOCODB_S3_ACCESS_SECRET`        
  Fly.io [API token](https://fly.io/docs/flyctl/tokens/) granting access to the RDB organization. Required for [`rdb::restart_postgrest()`](https://rdb.rpkg.dev/reference/restart_postgrest.html).                                                   `rdb.fly_io_api_token`               `R_RDB_FLY_IO_API_TOKEN`               
  Maximal timespan to preserve the package's [pkgpins](https://pkgpins.rpkg.dev/) cache. Cache entries older than this will be deleted upon package loading.                                                                                          `rdb.global_max_cache_age`           `R_RDB_GLOBAL_MAX_CACHE_AGE`           `"30 days"`
:::

## Development

### R Markdown format

This package's source code is written in the [R Markdown](https://rmarkdown.rstudio.com/) file format to facilitate practices commonly referred to as [*literate programming*](https://en.wikipedia.org/wiki/Literate_programming). It allows the actual code to be freely mixed with explanatory and supplementary information in expressive Markdown format instead of having to rely on [`#` comments](https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Comments) only.

All the `.gen.R` suffixed R source code found under [`R/`](https://gitlab.com/zdaarau/rpkgs/rdb/-/tree/pg/R/) is generated from the respective R Markdown counterparts under [`Rmd/`](https://gitlab.com/zdaarau/rpkgs/rdb/-/tree/pg/Rmd/) using [`pkgpurl::purl_rmd()`](https://pkgpurl.rpkg.dev/dev/reference/purl_rmd.html)[^1]. Always make changes only to the `.Rmd` files -- never the `.R` files -- and then run `pkgpurl::purl_rmd()` to regenerate the R source files.

### Coding style

This package borrows a lot of the [Tidyverse](https://www.tidyverse.org/) design philosophies. The R code adheres to the principles specified in the [Tidyverse Design Guide](https://principles.tidyverse.org/) wherever possible and is formatted according to the [Tidyverse Style Guide](https://style.tidyverse.org/) (TSG) with the following exceptions:

-   Line width is limited to **160 characters**, double the [limit proposed by the TSG](https://style.tidyverse.org/syntax.html#long-lines) (80 characters is ridiculously little given today's high-resolution wide screen monitors).

    Furthermore, the preferred style for breaking long lines differs. Instead of wrapping directly after an expression's opening bracket as [suggested by the TSG](https://style.tidyverse.org/syntax.html#long-lines), we prefer two fewer line breaks and indent subsequent lines within the expression by its opening bracket:

    ``` r
    # TSG proposes this
    do_something_very_complicated(
      something = "that",
      requires = many,
      arguments = "some of which may be long"
    )

    # we prefer this
    do_something_very_complicated(something = "that",
                                  requires = many,
                                  arguments = "some of which may be long")
    ```

    This results in less vertical and more horizontal spread of the code and better readability in pipes.

-   Usage of [magrittr's compound assignment pipe-operator `%<>%`](https://magrittr.tidyverse.org/reference/compound.html) is desirable[^2].

-   Usage of [R's right-hand assignment operator `->`](https://rdrr.io/r/base/assignOps.html) is not allowed[^3].

-   R source code is *not* split over several files as [suggested by the TSG](https://style.tidyverse.org/package-files.html) but instead is (as far as possible) kept in the single file [`Rmd/rdb.Rmd`](https://gitlab.com/zdaarau/rpkgs/rdb/-/tree/pg/Rmd/rdb.Rmd) which is well-structured thanks to its [Markdown support](#r-markdown-format).

As far as possible, these deviations from the TSG plus some additional restrictions are formally specified in [`pkgpurl::default_linters`](https://pkgpurl.rpkg.dev/reference/default_linters), which is (by default) used in [`pkgpurl::lint_rmd()`](https://pkgpurl.rpkg.dev/reference/lint_rmd), which in turn is the recommended way to lint this package.

[^1]: The very idea to leverage the R Markdown format to author R packages was originally proposed by Yihui Xie. See his excellent [blog post](https://yihui.name/rlp/) for his point of view on the advantages of literate programming techniques and some practical examples. Note that using `pkgpurl::purl_rmd()` is a less cumbersome alternative to the Makefile approach outlined by him.

[^2]: The TSG [explicitly instructs to avoid this operator](https://style.tidyverse.org/pipes.html#assignment-2) -- presumably because it's relatively unknown and therefore might be confused with the forward pipe operator `%>%` when skimming code only briefly. I don't consider this to be an actual issue since there aren't many sensible usage patterns of `%>%` at the beginning of a pipe sequence inside a function -- I can only think of creating side effects and relying on [R's implicit return of the last evaluated expression](https://rdrr.io/r/base/function.html). Therefore -- and because I really like the `%<>%` operator -- it's usage is welcome.

[^3]: The TSG [explicitly accepts `->` for assignments at the end of a pipe sequence](https://style.tidyverse.org/pipes.html#assignment-2) while Google's R Style Guide [considers this bad practice](https://google.github.io/styleguide/Rguide.html#right-hand-assignment) because it "makes it harder to see in code where an object is defined". I second the latter.
