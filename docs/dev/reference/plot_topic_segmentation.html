<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Topic segmentation sunburst chart — plot_topic_segmentation • c2d</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Topic segmentation sunburst chart — plot_topic_segmentation"><meta property="og:description" content="Creates a Plotly sunburst chart that visualizes the hierarchical segmentation of referendum topic occurences."><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@2BSalim"><meta name="twitter:site" content="@2BSalim"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.1/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet"><script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet"><script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">c2d</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.0.9040</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/codebook.html">C2D Codebook</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://gitlab.com/zdaarau/rpkgs/c2d/" class="external-link">
    <span class="fab fa-gitlab fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Topic segmentation sunburst chart</h1>
    <small class="dont-index">Source: <a href="https://gitlab.com/zdaarau/rpkgs/c2d/blob/HEAD/R/c2d.gen.R" class="external-link"><code>R/c2d.gen.R</code></a></small>
    <div class="hidden name"><code>plot_topic_segmentation.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a <a href="https://plotly.com/r/sunburst-charts/" class="external-link">Plotly sunburst chart</a> that visualizes the hierarchical segmentation of referendum topic occurences.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_topic_segmentation</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"per_rfrnd"</span>, <span class="st">"per_topic_lineage"</span>, <span class="st">"naive"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>C2D referendum data as returned by <code><a href="rfrnds.html">rfrnds()</a></code>. A data frame that at minimum contains the columns <code>topics_tier_1</code>, <code>topics_tier_2</code> and
<code>topics_tier_3</code>.</p></dd>


<dt>method</dt>
<dd><p>Applied method to count the number of topic occurences. One of</p><ul><li><p><strong><code>"per_rfrnd"</code></strong>: All <em>referendums</em> have the same weight. For a referendum with n different topics of the same tier, every topic is counted 1/n.</p></li>
<li><p><strong><code>"per_topic_lineage"</code></strong>: All <em>topic lineages</em> have the same weight. For a referendum with n different topics of the same tier, every topic is fully
counted, meaning that e.g. a referendum with three different tier-3 topics has a tripled impact on the result compared to a referendum that only has a
single one. Noticeably faster than <code>"per_rfrnd"</code>.</p></li>
<li><p><strong><code>"naive"</code></strong>: Naive procedure which doesn't properly reflect topic proportions on tier 2 and 3. Based on the (wrong) assumptions that a) all referendums
have the same number of topic lineages assigned and b) topics are not deduplicated per tier. By far the fastest method, though.</p></li>
</ul></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <a href="https://rdrr.io/pkg/plotly/man/plot_ly.html" class="external-link">plotly object</a>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>A <em>topic lineage</em> is the hierarchical compound of a <code>topic_tier_1</code> and optionally a grandchild <code>topic_tier_3</code> and/or a child <code>topic_tier_2</code>.</p>
<p>Note that topics can be assigned on any tier to referendums (i.e. in one case, a <code>topic_tier_1</code> plus a child <code>topic_tier_2</code> is assigned, and in another case
only a <code>topic_tier_1</code> without any further child topic).</p>
<p>Furthermore, it should be noted that not every <code>topic_tier_2</code> has potential child <code>topic_tier_3</code>s. See the <a href="https://rpkg.dev/c2d/articles/codebook.html#topics">full topic hierarchy</a> for details.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other visualization functions:
<code><a href="plot_rfrnd_share_per_period.html">plot_rfrnd_share_per_period</a>()</code>,
<code><a href="plot_topic_share_per_period.html">plot_topic_share_per_period</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># count each referendum equally</span></span></span>
<span class="r-in"><span><span class="fu">c2d</span><span class="fu">::</span><span class="fu"><a href="rfrnds.html">rfrnds</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"AT"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">c2d</span><span class="fu">::</span><span class="fu">plot_topic_segmentation</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"per_rfrnd"</span><span class="op">)</span></span></span>
<div id="htmlwidget-c50e9fa97c5922e3f886" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c50e9fa97c5922e3f886">{"x":{"visdat":{"b0773ca0eaa9":["function () ","plotlyVisDat"]},"cur_data":"b0773ca0eaa9","attrs":{"b0773ca0eaa9":{"labels":{},"parents":{},"ids":{},"values":{},"branchvalues":"total","insidetextorientation":"radial","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["energy","foreign policy","security policy","state organisation","European policy","army","federalism","national identity","nuclear energy","political system","EU","military organisation","territorial questions","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>"],"parents":["","","","","foreign policy","security policy","state organisation","state organisation","energy","state organisation","European policy","army","federalism","European policy","army","energy","federalism","foreign policy","security policy","state organisation"],"ids":["energy","foreign policy","security policy","state organisation","European policy","army","federalism","national identity","nuclear energy","political system","EU","military organisation","territorial questions","NA_European policy","NA_army","NA_energy","NA_federalism","NA_foreign policy","NA_security policy","NA_state organisation"],"values":[1,1,2,6,1,2,1.83333333333333,3.83333333333333,1,0.333333333333333,1,2,1.83333333333333,0,0,0,0,0,0,0],"branchvalues":"total","insidetextorientation":"radial","type":"sunburst","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># count each topic lineage equally</span></span></span>
<span class="r-in"><span><span class="fu">c2d</span><span class="fu">::</span><span class="fu"><a href="rfrnds.html">rfrnds</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"AT"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">c2d</span><span class="fu">::</span><span class="fu">plot_topic_segmentation</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"per_topic_lineage"</span><span class="op">)</span></span></span>
<div id="htmlwidget-ed9cd9fdcd60efcb0c80" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ed9cd9fdcd60efcb0c80">{"x":{"visdat":{"b077a715c98":["function () ","plotlyVisDat"]},"cur_data":"b077a715c98","attrs":{"b077a715c98":{"labels":{},"parents":{},"ids":{},"values":{},"branchvalues":"total","insidetextorientation":"radial","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["energy","foreign policy","security policy","state organisation","European policy","army","federalism","national identity","nuclear energy","political system","EU","military organisation","territorial questions","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>","<i>not defined<\/i>"],"parents":["","","","","foreign policy","security policy","state organisation","state organisation","energy","state organisation","European policy","army","federalism","European policy","army","energy","federalism","foreign policy","security policy","state organisation"],"ids":["energy","foreign policy","security policy","state organisation","European policy","army","federalism","national identity","nuclear energy","political system","EU","military organisation","territorial questions","NA_European policy","NA_army","NA_energy","NA_federalism","NA_foreign policy","NA_security policy","NA_state organisation"],"values":[1,1,2,11,1,2,4,6,1,1,1,2,4,0,0,0,0,0,0,0],"branchvalues":"total","insidetextorientation":"radial","type":"sunburst","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># naive count (way faster, but with misleading proportions on tier 2 and 3)</span></span></span>
<span class="r-in"><span><span class="fu">c2d</span><span class="fu">::</span><span class="fu"><a href="rfrnds.html">rfrnds</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"AT"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">c2d</span><span class="fu">::</span><span class="fu">plot_topic_segmentation</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"naive"</span><span class="op">)</span></span></span>
<div id="htmlwidget-5079c8c2151c71b0f7a0" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5079c8c2151c71b0f7a0">{"x":{"visdat":{"b07732fee5ad":["function () ","plotlyVisDat"]},"cur_data":"b07732fee5ad","attrs":{"b07732fee5ad":{"labels":{},"parents":{},"ids":{},"values":{},"branchvalues":"remainder","insidetextorientation":"radial","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["state organisation","foreign policy","security policy","energy","national identity","political system","federalism","European policy","army","nuclear energy","territorial questions","EU","military organisation"],"parents":["","","","","state organisation","state organisation","state organisation","foreign policy","security policy","energy","federalism","European policy","army"],"ids":["state organisation","foreign policy","security policy","energy","national identity","political system","federalism","European policy","army","nuclear energy","territorial questions","EU","military organisation"],"values":[6,1,2,1,6,1,4,1,2,1,4,1,2],"branchvalues":"remainder","insidetextorientation":"radial","type":"sunburst","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Salim Brüggemann, Uwe Serdült.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

