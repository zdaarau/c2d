<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tag segmentation sunburst chart — plot_tag_segmentation • c2d</title>



<!-- jquery -->
<script src="../jquery.min.js"></script>

<!-- Bootstrap -->
<link rel="stylesheet" href="../yeti.min.css" />

<script src="../bootstrap.min.js" ></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="../font-awesome/css/all.min.css" />
<link rel="stylesheet" href="../font-awesome/css/v4-shims.min.css" />

<!-- clipboard.js -->
<script src="../clipboard.min.js"></script>

<!-- headroom.js -->
<script src="../headroom.min.js"></script>
<script src="../jQuery.headroom.min.js"></script>





<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Tag segmentation sunburst chart — plot_tag_segmentation" />
<meta name="description" content="Creates a Plotly sunburst chart that visualizes the hierarchical segmentation of referendum tag occurences.">
<meta property="og:description" content="Creates a Plotly sunburst chart that visualizes the hierarchical segmentation of referendum tag occurences." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@2BSalim" />
<meta name="twitter:site" content="@2BSalim" />


<meta name="robots" content="noindex">



<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">c2d</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.0.9038</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/codebook.html">C2D Codebook</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://gitlab.com/zdaarau/rpkgs/c2d/">
    <span class="fab fa-gitlab fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tag segmentation sunburst chart</h1>
    <small class="dont-index">Source: <a href='https://gitlab.com/zdaarau/rpkgs/c2d/blob/master/R/c2d.gen.R'><code>R/c2d.gen.R</code></a></small>
    <div class="hidden name"><code>plot_tag_segmentation.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a <a href='https://plotly.com/r/sunburst-charts/'>Plotly sunburst chart</a> that visualizes the hierarchical segmentation of referendum tag occurences.</p>
    </div>

    <pre class="usage"><span><span class='fu'>plot_tag_segmentation</span><span class='op'>(</span></span>
<span>  <span class='va'>data</span>,</span>
<span>  method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"per_rfrnd"</span>, <span class='st'>"per_tag_lineage"</span>, <span class='st'>"naive"</span><span class='op'>)</span></span>
<span><span class='op'>)</span></span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>C2D referendum data as returned by <code><a href='rfrnds.html'>rfrnds()</a></code>. A data frame that at minimum contains the columns <code>tags_tier_1</code>, <code>tags_tier_2</code> and
<code>tags_tier_3</code>.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Applied method to count the number of tag occurences. One of</p><ul>
<li><p><strong><code>"per_rfrnd"</code></strong>: All <em>referendums</em> have the same weight. For a referendum with n different tags of the same tier, every tag is counted 1/n.</p></li>
<li><p><strong><code>"per_tag_lineage"</code></strong>: All <em>tag lineages</em> have the same weight. For a referendum with n different tags of the same tier, every tag is fully counted,
meaning that e.g. a referendum with three different tier-3 tags has a tripled impact on the result compared to a referendum that only has a single one.
Noticeably faster than <code>"per_rfrnd"</code>.</p></li>
<li><p><strong><code>"naive"</code></strong>: Naive procedure which doesn't properly reflect tag proportions on tier 2 and 3. Based on the (wrong) assumptions that a) all referendums
have the same number of tag lineages assigned and b) tags are not deduplicated per tier. By far the fastest method, though.</p></li>
</ul></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plotly object</a>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A <em>tag lineage</em> is the hierarchical compound of a <code>tag_tier_1</code> and optionally a grandchild <code>tag_tier_3</code> and/or a child <code>tag_tier_2</code>.</p>
<p>Note that tags can be assigned on any tier to referendums (i.e. in one case, a <code>tag_tier_1</code> plus a child <code>tag_tier_2</code> is assigned, and in another case only a
<code>tag_tier_1</code> without any further child tag).</p>
<p>Furthermore, it should be noted that not every <code>tag_tier_2</code> has potential child <code>tag_tier_3</code>s. See the <a href='https://rpkg.dev/c2d/articles/codebook.html#tags'>full tag hierarchy</a> for details.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other visualization functions:
<code><a href='plot_rfrnd_share_per_period.html'>plot_rfrnd_share_per_period</a>()</code>,
<code><a href='plot_tag_share_per_period.html'>plot_tag_share_per_period</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span><span class='co'># count each referendum equally</span></span></span>
<span class='r-in'><span><span class='fu'>c2d</span><span class='fu'>::</span><span class='fu'><a href='rfrnds.html'>rfrnds</a></span><span class='op'>(</span>country_code <span class='op'>=</span> <span class='st'>"AT"</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'>c2d</span><span class='fu'>::</span><span class='fu'>plot_tag_segmentation</span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"per_rfrnd"</span><span class='op'>)</span></span></span>
<span class='r-in'><span></span></span>
<span class='r-in'><span><span class='co'># count each tag lineage equally</span></span></span>
<span class='r-in'><span><span class='fu'>c2d</span><span class='fu'>::</span><span class='fu'><a href='rfrnds.html'>rfrnds</a></span><span class='op'>(</span>country_code <span class='op'>=</span> <span class='st'>"AT"</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'>c2d</span><span class='fu'>::</span><span class='fu'>plot_tag_segmentation</span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"per_tag_lineage"</span><span class='op'>)</span></span></span>
<span class='r-in'><span></span></span>
<span class='r-in'><span><span class='co'># naive count (way faster, but with misleading proportions on tier 2 and 3)</span></span></span>
<span class='r-in'><span><span class='fu'>c2d</span><span class='fu'>::</span><span class='fu'><a href='rfrnds.html'>rfrnds</a></span><span class='op'>(</span>country_code <span class='op'>=</span> <span class='st'>"AT"</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'>c2d</span><span class='fu'>::</span><span class='fu'>plot_tag_segmentation</span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"naive"</span><span class='op'>)</span></span></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Salim Brüggemann, Uwe Serdült.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>1.6.1.9000.</p></p>
</div>

      </footer>
   </div>

  

  

<script data-goatcounter="https://rpkg-dev.goatcounter.com/count" async src="../goatcounter.min.js"></script>



  

  </body>
</html>

